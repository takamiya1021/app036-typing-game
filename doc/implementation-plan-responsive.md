# スマホ対応：レスポンシブデザイン実装計画

## 概要
スマートフォンやタブレットでの表示崩れを解消し、PC（物理キーボード）での利用を推奨する案内機能を追加します。

## ユーザーレビューが必要な事項
- **PC推奨案内の表示方法**: 画面上部に常時表示されるバナー形式か、初回アクセス時に表示されるモーダル形式か。今回は**「画面上部に目立つバナーを表示し、閉じることも可能」**な形式を提案します。
- **キーボードヒートマップの扱い**: スマホ画面では物理的に幅が足りないため、**「横スクロール可能」**にして表示を維持します。

## 提案される変更

### 共通・ユーティリティ
#### [NEW] `hooks/useDevice.ts` (または `lib/hooks/useDevice.ts`)
- 画面幅またはUserAgentに基づいてデバイスタイプ（mobile, tablet, desktop）を判定するカスタムフックを作成。

#### [NEW] `components/DeviceNotice.tsx`
- モバイル・タブレット判定時に表示する警告/案内コンポーネント。
- 「このアプリは物理キーボードを使用したPCでの練習を推奨しています」というメッセージを表示。

### ページレイアウトのレスポンシブ化

#### [MODIFY] `app/page.tsx` (ホーム)
- `flex-row` を `flex-col` に変更し、コンテンツを縦積みに。
- グリッドレイアウト (`grid-cols-3`) をモバイルでは `grid-cols-1` に変更。
- フォントサイズ、パディングをモバイル向けに調整。

#### [MODIFY] `app/practice/page.tsx` (練習画面)
- コンテナの幅設定を `max-w-6xl` からレスポンシブな設定に変更。
- ヘッダー部分のレイアウトを縦積みに調整。
- `DifficultySelector` 等のUI部品の配置を調整。

#### [MODIFY] `app/results/page.tsx` (結果画面)
- 結果表示グリッドを縦積みに変更。
- アクションボタンを縦並びまたは折り返し可能に。

#### [MODIFY] `app/history/page.tsx` (履歴画面)
- 履歴リストの各項目を縦積みに変更（統計情報とタイムスタンプの配置調整）。

### コンポーネントのレスポンシブ化

#### [MODIFY] `components/GameStats.tsx`
- `grid-cols-3` をモバイルでは `grid-cols-1` に変更。

#### [MODIFY] `components/KeyboardHeatmap.tsx`
- コンテナに `overflow-x-auto` を追加し、画面幅を超える場合はスクロール可能にする。
- または `transform scale` を使用して画面幅に合わせて縮小するオプションも検討（今回はスクロール優先）。

#### [MODIFY] `components/TypingArea.tsx`
- フォントサイズを画面幅に合わせて調整（`text-2xl` -> `text-lg` or `text-xl` on mobile）。
- 長い単語や文章の折り返し設定を確認。

## 検証計画

### 自動テスト
- 既存の単体テストが通ることを確認。
- レスポンシブクラスの適用を確認するスナップショットテスト（必要であれば）。

### 手動検証
- Chrome DevToolsのデバイスモードを使用。
- **iPhone SE / 12 / 14 Pro Max** 相当のサイズで表示崩れがないか確認。
- **iPad** 相当のサイズで表示確認。
- PC推奨案内が適切に表示・非表示されるか確認。
